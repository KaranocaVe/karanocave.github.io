<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex">  <meta name="built-on" content="2023-10-23T17:54:23.0930634"><meta name="build-number" content="${buildNumber}">       <title>Clion控制台中文乱码问题 | Blog</title><script id="virtual-toc-data" type="application/json">[]</script><script id="topic-shortcuts" type="application/json"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.1.5-b176/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Clion控制台中文乱码问题 | Blog"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="Blog Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="karanocave.infoclionchineseerror.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Clion控制台中文乱码问题 | Blog"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "karanocave.infoclionchineseerror.html#webpage", "url": "karanocave.infoclionchineseerror.html", "name": "Clion控制台中文乱码问题 | Blog", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "karanocave.info/#website", "url": "karanocave.info/", "name": "Blog Help" }</script><!-- End Schema.org --> <!-- Mermaid light/dark themes -->  <link rel="stylesheet" type="text/css" href="mermaid.css">  </head>     <body data-id="ClionChineseError" data-main-title="Clion控制台中文乱码问题" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="problems.md|&#36855;&#36394;"  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Blog  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="ClionChineseError"  id="ClionChineseError.md"  >Clion控制台中文乱码问题</h1>  <p id="fd765ec7_148">在Clion使用MinGW工具链时可以观测到这个问题。</p><p id="fd765ec7_149">网路上的解决方案大概可以分为两种：</p><p id="fd765ec7_150">第一种，修改文件编码。各家给的方案还不一样，有的叫你全部改成GBK或者UTF-8，有的甚至叫你一处改GBK一处改UTF-8，完全就是胡扯。</p><p id="fd765ec7_151">第二种，关闭run.processes.with.pty。这种答案发现了真正的问题出在伪终端上，PTY 是一种在操作系统上模拟终端的设备，它可以让你与程序进行交互，就像在真实的终端中一样。当你运行或调试一个程序时，CLion 可以选择使用伪终端来模拟交互式输入和输出。这意味着你可以像在终端中一样输入命令和数据，并查看程序的输出结果。这对于需要交互的程序，比如命令行工具或交互式应用程序，非常有用。run.processes.with.pty 选项允许你在 CLion 的运行和调试配置中启用或禁用伪终端。默认情况下，该选项是启用的，因此 CLion 将使用伪终端来运行和调试程序。直接禁用虚拟终端虽然能解决乱码问题，但是又会导致缓冲区出现问题，有时printf和scanf的顺序颠倒，有时printf的内容需要手动fflush(stdout)才能刷新。</p><p id="fd765ec7_152">根本原因其实与宽字符有关，在此不深入探讨。</p><p id="fd765ec7_153">下面给出一种较为优雅的解决方案。</p><p id="fd765ec7_154">即换用Cygwin，安装Cygwin时在Devel下找到</p><ul class="list _ul" id="fd765ec7_155"    ><li class="list__item" id="fd765ec7_156"><p>gcc-core</p></li><li class="list__item" id="fd765ec7_157"><p>gcc-g++</p></li><li class="list__item" id="fd765ec7_158"><p>cmake</p></li><li class="list__item" id="fd765ec7_159"><p>make</p></li><li class="list__item" id="fd765ec7_160"><p>gdb</p></li></ul><p id="fd765ec7_161">这五个功能包即可满足Clion的需求。</p><p id="fd765ec7_162">安装完毕在Clion中将Cygwin设置为默认即可。</p><p id="fd765ec7_163">另外，Cygwin实际上是一个模拟的unix环境，其编译出来的exe文件是无法直接在windows上运行的(需要cygwin.dll)，而且他的速度并不快，但是，对于初学者而言，足够了。</p><div class="last-modified"> Last modified: 23 十月 2023</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="problems.html">&#36855;&#36394;</a>   <a class="navigation-links__next" href="cantfindscanf.html">无法找到标识符scanf</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/writerside/apidoc/6.1.5-b176/app.js"></script></body></html>